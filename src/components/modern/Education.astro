---
import Section from "@components/Section.astro";
import { $userSelected } from "@store/store";

const { education } = $userSelected.value!;
---

<Section title="EducaciÃ³n">
  <ul class="flex flex-col gap-y-10">
    {
      education.map(
        ({
          institution,
          url,
          area,
          studyType,
          startDate,
          endDate,
          score,
          courses,
        }) => {
          const startYear = new Date(startDate).getFullYear();
          const endYear =
            endDate != null ? new Date(endDate).getFullYear() : "Actual";
          const years = `${startYear} - ${endYear}`;
          return (
            <li>
              <article>
                <header class="flex justify-between items-baseline">
                  <div>
                    <h3 class="text-lg font-semibold">{institution}</h3>
                    <p>{area}</p>
                  </div>
                  <p class="text-sm opacity-60">{years}</p>
                </header>
                <footer>
                  <p class="opacity-60 text-[.9rem]">{studyType}</p>
                </footer>
              </article>
            </li>
          );
        }
      )
    }
  </ul>
</Section>
