---
import { $userSelected } from "@store/store";
import TitleSection from "@components/modern/TitleSection.astro";

const { work } = $userSelected.value!;
---

<article class="flex flex-col gap-2 mb-8 text-[var(--text)]">
  <TitleSection title="Experiencia laboral" />
  <ul class="flex flex-col gap-5">
    {
      work.map(({ name, position, startDate, endDate, summary }) => {
        const startYear = new Date(startDate).getFullYear();
        const endYear = new Date(endDate).getFullYear();
        return (
          <li class="flex flex-col gap-1">
            <div class="flex gap-x-2 items-center text-sm">
              <span class="text-2xl">&bullet;</span>
              <p class="font-semibold m-0">{name}</p>
            </div>
            <div class="flex flex-col gap-1 pl-4 text-xs">
              <p>{position}</p>
              <p>
                {startYear}-{endYear}
              </p>
            </div>
            <p class="pl-4 text-xs opacity-70 leading-5">{summary}</p>
          </li>
        );
      })
    }
  </ul>
</article>
